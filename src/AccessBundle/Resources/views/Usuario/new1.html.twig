{% extends 'AccessBundle:Default:layout.html.twig' %}

{% block content %}
  <div class="my-3 container-fluid bg-light border border-light">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
	<li class="breadcrumb-item"><a href="{{ url('usuario_list') }}">usuarios</a></li>
	<li class="breadcrumb-item active" aria-current="page">nuevo</li>
      </ol>
    </nav>

    <h2>Nuevo Usuario</h2>

    {{ form_start(buscarRutForm) }}
      <div class="form-row">
	<div class="col col-sm-3 col-lg-2">{{ form_label(buscarRutForm.rut, 'Rut') }}</div>
	<div class="col col-sm col-md-7 col-lg-4">
	  {{ form_widget(buscarRutForm.rut, {'attr': {'class': 'form-control w-auto d-inline', 'size': 10}}) }}
	  &ndash; {{ form_widget(buscarRutForm.dv, {'attr': {'class': 'form-control w-auto w-md-50 d-inline', 'size': 1}}) }}
	</div>
      </div>

      <div class="form-row">
	<div class="col col-sm col-md-10 col-lg-6">
	  <input type="submit" class="btn btn-primary" value="Buscar"/>
	</div>
      </div>
    {{ form_end(buscarRutForm) }}
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}

  {% javascripts
  '../vendor/validarut/validar.js'
  output='js/validarrut.js'
  combine=true  %}
  <script src="{{ asset_url }}"></script>
  {% endjavascripts %}

  <script type="text/javascript">
   $(document).ready( function () {
     $('#buscar_rut_rut').keyup(function(){
       var dv = validarRUT($(this).val());

       $('#buscar_rut_dv').val(dv);
     });
   } );
  </script>
{% endblock %}
